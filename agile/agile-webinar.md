# What is Agile

## Agile はどこから来たのか

- アジャイルの概念は 2000 年代に生まれた
- 1980-90 年代のウォーターフォールの課題を解決するために生まれた

### Waterfall の課題

- 従来、多くのソフトウェア開発で、ユーザーに使われない機能の開発に時間をかけている

  - 平均的に見て、「常に使われる、よく使われる」機能は 20% くらいしかない
  - 全く使われないものは 64% ほどある
  - Excel, Powerpoint の機能を思い出すと、納得できるのではないか

- 従来のソフトウェア開発は PJ のスタートに全期間の計画を「厳密に定義」する
- しかし計画遵守は難しく、スケジュールや予算の釣果は統計的に 7 割程度発生する
- これで遅延が発生しない、予算超過しないのは 26% ほど（統計的に）
- 開発中に要求が変化する可能性は平均して 65%、これらを開発で吸収するのが難しい
- Waterfall は組み立てラインに近いアプローチ。
- 計画のズレは、後続の開発すべてに影響してしまい、何度も書き直す羽目に。
- ソフトウェアでない工場の組み立てラインでは急に要件が変わるということはあまり想像つかないがソフトウェアだと往々にしてある
- ソフトウェアでは、チケットの起源が守られず、毎回チケットの期限を書き直すということもある -> もはやプロジェクトマネジメントは機能していない

**-> 要件が変わることを前提にする**

- 問題は、企業がソフトウェア開発サイクルの計画と文書化に集中しすぎているため、顧客を喜ばせるという本当に重要なことを見失っていることだった
- 企業は卓越性や誠実さなどの企業価値を宣伝していたかもしれないが、これらの価値が人々を、特にソフトウェア開発者をより良い方法に導くために役立ったことはほとんどなかった。変えなければならないのはそこだった
- この議論は 2001 年初頭に、アメリカのワサッチ山脈のスキー小屋でエンジニア 17 人が考え続けた。
- Agile Manifesto としての原則がうたわれ、これが Agile のスタートラインとなった。

- アジャイルソフトウェア開発宣言
  - 私たちは、ソフトウェア開発の実践あるいは実践を手助けをする活動を通じて、よりよい開発方法を見つけ出そうとしている。この活動を通して、私たちは以下の価値に至った。
    - プロセスやツールよりも _個人と対話_
    - 包括的なドキュメントよりも _動くソフトウェア_
    - 契約交渉よりも _顧客との協調_
    - 計画に従うことよりも _変化への対応_

agilemanifesto.org/iso/ja/principles.html

**-> Agile は価値観であり、開発におけるスタンスである。**

## Agile で何が変わるのか

アジャイル宣言の背後には 12 個の原則がある

1. 顧客満足を最優先し、価値のあるソフトウェアを早く継続的に提供します。
1. 要求の変更はたとえ開発の後期であっても歓迎します。変化を味方につけることによって、お客様の競争力を引き上げます。
1. 動くソフトウェアを、2-3 週間から 2-3 ヶ月というできるだけ短い時間間隔でリリースします。
1. ビジネス側の人と開発者は、プロジェクトを通して日々一緒に働かなければなりません。
1. 意欲に満ちた人々を集めてプロジェクトを構成します。環境と支援を与え仕事が無事終わるまで彼らを信頼します。
1. 情報を伝えるもっとも効率的で効果的な方法はフェイス・トゥ・フェイスで話をすることです。
1. 動くソフトウェアこそが進捗の最も重要な尺度です。
1. アジャイル･プロセスは持続可能な開発を促進します。一定のペースを継続的に維持できるようにしなければなりません。
1. 技術的卓越性と優れた設計に対する不断の注意が機敏さを高めます。
1. シンプルさ（ムダなく作れる量を最大限にすること）が本質です。
1. 最良のアーキテクチャ・要求・設計は、自己組織的なチームから生み出されます。
1. チームがもっと効率を高めることができるかを定期的に振り返り、それに基づいて自分たちのやり方を最適に調整します。

- 小さな開発を繰り返すことで、顧客要望の変化を取り入れる。
  - デプロイを短期間で繰り返す
  - スプリントという単位でプロジェクトを回す
- 機能横断性を持つ自己組織的なチームで、小規模な機能を開発・運用する。
  - 1 チーム <-> 1 機能
    - アプリケーションの規模によっては 1 チームが複数の機能を担当したりということはある
    - 1 チーム 4, 5 人で同じ機能（群）を継続的に対応していく
    - 例）買い物機能チーム、認証機能チーム、検索機能チーム・・・
  - シンプルで小さなシステムの組み合わせ
  - 簡潔した機能横断的なチームが対応
  - アーキテクチャ・要求・設計は、チームごとに生み出す
  - チーム内でフロントからバック、インフラまでできる

## アジャイル開発とは

- アジャイル開発は、PJ の目的・課題・段階などに応じて、開発手法を組み合わせる。
- アジャイル開発手法として存在するすべての手法・プラクティスを採用する必要はない
  https://blog.novoda.com/mapping-the-agile-manifesto/

## アジャイル開発のモデルケース

- プロダクト開発の立ち上げフェイズは、少数精鋭の開発で、速度と品質を担保することが多い。
  - 1. Business: 顧客の反応を見ると、ダッシュボード機能を拡張すると良さそうだ
  - 2. PM: 要件に切り分け
  - 3. Dev: プロダクトのことは知り尽くしています。実装は任せてください

<img src="./Screen Shot 2021-12-23 at 10.39.16.png">
<img src="./Screen Shot 2021-12-23 at 10.41.15.png">

- 開発要件を事前に詳細化することで、生産性を維持したまま、開発規模の拡張ができる。開発速度は向上する。
- テストケースを共同で作成し、今まで暗黙知だった要素を明文化し共有していく。開発作業のタスク自体は分担する。

- 開発要件の詳細化は一度に行わず、直近 1 週間〜 1 ヶ月の開発を対象に随時実施する。
  - 例）PM: 直近 1 ヶ月で実現する開発要望を詳細化しておこう。
  - 例）Dev: 来週のテストケースを作成しておこう。

<img src="./Screen Shot 2021-12-23 at 10.43.53.png">

- 優れたチームは、開発要件外の、チームがやるべきタスクもすべて明記する。

  - アーキテクチャ・インフラ・テスト基盤
  - 技術調査
  - バグ対応（緊急用に、バッファとして残しておく）

- 開発要件の詳細化は、見積もりを可能にし、進捗予測や生産性の可視化を実現する

  - プランニングポーカーで相対的な工数を比較
  - テストケースを想定すると、開発要件別の難易度や作業量がわかってくる
  - 見積もったタスクの消化実績（＝ベロシティ）を計測することで、生産性や開発の進捗を推測できる

- バーンダウンチャート：プロダクトのポイント全量を把握し、開発進捗や完了予定日を予測する。

- 開発チームは、階層構造を持たず、機能横断的なワンチームで開発を行う
  - PO: "What" にフォーカス
    - プロダクトと ROI の関係性に責任を持つ
    - ビジネスサイドと対話し、要件と優先順位を決める
  - スクラムマスター: "生産性"にフォーカス
    - 生産性を可視化し、最大化する
    - Agile なプラクティスを提案し、チームが実践できるようにコーチングする
    - プロダクトオーナー（低いコストでの開発を求める）と開発チームの間を取り持つ
  - 開発チーム："How" にフォーカス
    - PO の生み出した要件を実現する
    - 開発の中で機能横断性を獲得し、要件の実現手段を自ら生み出していく

<img src="./Screen Shot 2021-12-23 at 10.54.46.png">

- 要件＝ユーザーストーリー
- ユーザーストーリ＝ユーザーがアクションをしたとき、どういった体験をユーザーにしてほしいか as a (who) I want to (what) so that (why)

  - 例）間違えた情報でログインしようとしたときポップアップが出るなど
  - 詳細部分は開発チームが決めたり、新しいタスク、要件は PO のみならず Dev チームも積んでいい
  - チケットには依存関係と優先順位がある
  - 優先順位は PO が絶対的に決めていく
  - バグが発生したとき、それにいつ（すぐ or あとで）対応するかどうかも原則は PO が決める
    - バグが多い場合は、バグを減らすというタスクを別途切ることもあり
    - 例）テスト基盤の構築

- 開発は一定のサイクル（スプリント）で行い、目的に応じたイベントを行う

  - スプリントプランニング（スプリントのもう表やスコープの決定）
  - デイリーミーティング（カンバン。やったこととやることの共有）
  - リファインメント（バックログの詳細化、要件詳細化やテストケースの作成）。優先順位の調整
  - レビュー（想定ユーザーへのレビュー）：フィードバックはバックログに格納
  - レトロスペクティブ（開発手法の振り返り、課題の解決策のディスカッション）

- バックログはいつでもチケットを追加してよい。
- PO はその優先順位を決める。

- 受入基準 (Acceptance criteria)
- 完了基準 (Definition of done)

- タスクのポイントの修正もあり（リファインメント）。

- このほかにも適宜、開発手法を導入し、時には廃止を行う。
  - **透明性・検査・適応** を忘れないこと
